<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SDN Monitor{% endblock %}</title>
    <link rel="stylesheet" href="/static/styles/main.css">
</head>
<body>
    <header>
        <h1>{% block header %}SDN Traffic Monitor{% endblock %}</h1>
    </header>

    <div class="network-wrapper">
        <div id="network"></div>
    </div>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>&copy; 2025 SDN Monitor</p>
    </footer>
</body>
</html>

<!-- Підключення бібліотеки vis.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.css" rel="stylesheet">

<script>
    // Дані для графа
    const graphData = JSON.parse('{{ graph_data | safe }}');

    // Налаштування графа
    const options = {
        nodes: {
            shape: 'image', // Використовуємо зображення
            size: 15,
            font: {
                size: 15,
                valign: 'bottom' // Назва під картинкою
            }
        },
        edges: {
            font: {
                align: 'top'
            },
            smooth: true
        },
        groups: {
            switch: {
                shape: 'image',
                image: 'static/images/switch.png', // Шлях до зображення для свічів
                size: 15
            },
            computer: {
                shape: 'image',
                image: 'static/images/computer.png', // Шлях до зображення для комп'ютерів
                size: 10
            }
        },
        physics: {
            enabled: true
        }
    };

    // Ініціалізація графа
    const container = document.getElementById('network');
    const network = new vis.Network(container, graphData, options);
</script>